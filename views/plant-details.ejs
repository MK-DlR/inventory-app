<!-- views/plant-details.ejs -->

<!DOCTYPE html>
<html lang="en">
    <%- include("./partials/head.ejs") %>
    <body>
        <div class="plant-details content">
            <h1><%= title %></h1>
            <ul>
                <p><img src="<%= plant.image_url %>" class="detail-img"></p>
                <p><strong>Scientific Name:</strong> <%= plant.scientific_name %></p>
                <p><strong>Stock Status:</strong> <%= formatStockStatus(plant.stock_status) %></p>
                <p><strong>Quantity:</strong> <%= formatQuantityLevel(plant.quantity_level) %></p>
                <p><strong>Order Status:</strong> <%= formatStockStatus(plant.order_status) %></p>
                <div class="control-buttons">
                    <button onclick="window.location.href='/plants/<%- plant.id %>/edit';">Edit</button>
                    <form action="/plants/<%- plant.id %>/delete" method="POST" onsubmit="return confirm('Are you sure to want to delete this plant?');">
                        <button type="submit">Delete</button>
                    </form>
                </div>
            </ul>
        </div>

        <div class="plant-medicinal content">
            <% if (plant.medicinal_uses && plant.medicinal_uses.length > 0) { %>
            <h2>Medicinal Uses (<%= plant.medicinal_uses.length %>)</h2>
                <ul class="stacked-list">
                    <% plant.medicinal_uses.forEach(use => { %>
                    <li class="list-item">
                        <a href="/medicinal/<%= use.id %>" class="list-link">
                        <div class="list-content">
                            <div class="list-main">
                            <p class="list-title"><%= use.use_name %></p>
                            </div>
                        </div>
                        <svg class="chevron-icon" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                            <path fill-rule="evenodd" d="M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
                        </svg>
                        </a>
                    </li>
                    <% }) %>
                </ul>
            <% } else { %>
                <h2>Medicinal Uses (<%= plant.medicinal_uses.length %>)</h2>
                <ul>
                    <li>No medicinal uses listed for this plant.</li>
                </ul>
            <% } %>
        </div>    
    </body>
</html>